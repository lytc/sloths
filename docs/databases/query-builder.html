<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>
        Lazy Framework    </title>
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="/lazy/assets/vendor/codemirror/4.1/lib/codemirror.css" rel="stylesheet">
    <link href="/lazy/assets/vendor/codemirror/4.1/theme/mdn-like.css" rel="stylesheet">
    <link href="/assets/stylesheets/application.css?__dc" rel="stylesheet">    </head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/lazy/index.html">Lazy Framework</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/lazy/docs/installation.html">Documentation</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-3">
            <br>
            <br>
            <ul class="nav">
                <li>
                    <a href="#"><b>Getting Started</b></a>
                    <ul>
                        <li><a href="/lazy/docs/installation.html">Installation</a></li>
                        <li><a href="/lazy/docs/system-requirements.html">System Requirements</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><b>Application</b></a>
                    <ul>
                        <li><a href="/lazy/docs/application-structure.html">Application Structure</a></li>
                        <li><a href="/lazy/docs/server-configuration.html">Server Configuration</a></li>
                        <li><a href="#">Request</a></li>
                        <li><a href="/lazy/docs/routing.html">Routing</a></li>
                        <li><a href="#">View</a></li>
                        <li><a href="#">Response</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><b>Database</b></a>
                    <ul>
                        <li><a href="/lazy/docs/databases/connection.html">Connection</a></li>
                        <li><a href="/lazy/docs/databases/query-builder.html">Query Builder</a></li>
                    </ul>
                </li>
                <li>
                    <a href="/lazy/docs/orm/define-model.html"><b>ORM</b></a>
                    <ul>
                        <li><a href="/lazy/docs/orm/define-model.html">Defining Models</a></li>
                        <li>
                            <a href="/lazy/docs/orm/model-overview.html">Model Interaction</a>
                            <ul>
                                <li><a href="/lazy/docs/orm/model-overview.html">Overview</a></li>
                                <li><a href="/lazy/docs/orm/model.html">Model</a></li>
                                <li><a href="/lazy/docs/orm/collection.html">Collection</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="/lazy/docs/orm/relationship-overview.html">Relationship</a>
                            <ul>
                                <li><a href="/lazy/docs/orm/relationship-overview.html">Overview</a></li>
                                <li><a href="/lazy/docs/orm/relationship-has-one.html">Has One</a></li>
                                <li><a href="/lazy/docs/orm/relationship-has-many.html">Has Many</a></li>
                                <li><a href="/lazy/docs/orm/relationship-belongs-to.html">Belongs To</a></li>
                                <li><a href="/lazy/docs/orm/relationship-has-many-through.html">Has Many Through</a></li>
                            </ul>
                        </li>

                    </ul>
                </li>
                <li>
                    <a href="#"><b>Development Tools</b></a>
                    <ul>
                        <li><a href="#">Console</a></li>
                        <li><a href="#">Model Generator</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="col-md-9">
            <div class="page-header">
    <h1>Query Builder</h1>
</div>

<h3>Select</h3>
<h4>Simple Select</h4>
<textarea class="code">
use Lazy\Db;
use Lazy\Db\Sql\Select;

$select = new Select('users');
$select->select('name, email')
    ->where('id = 1')
    ->orderBy('name, created_time DESC')
    ->limit(10)
    ->offset(5)
    ;

// or
$select = Db::select('users', 'name, email', 'id = 1')
    ->orderBy('name, created_time DESC')
    ->limit(10)
    ->offset(5)
    ;

$select->toString();
// SELECT name, email FROM users WHERE (id = 1) ORDER BY name, created_time DESC LIMIT 10 OFFSET 5
</textarea>

<h4>Select With Join</h4>
<textarea class="code">
use Lazy\Db;

$select = Db::select();
$select->from('posts')
    ->select('title, content')
    ->join('users', 'users.id = posts.user_id')
    ->where('users.id = 1')
    ;

$select->toString();
// SELECT title, content FROM posts INNER JOIN users ON users.id = posts.user_id WHERE users.id = 1
</textarea>

<h4>Complex Where Conditions <em class="text-muted">(Having is similar to)</em></h4>
<textarea class="code">
use Lazy\Db;

$select = Db::select('users');
$select->select('name, email')
    ->where('status = ?', 'active')
    ->where(function() {
        $this->where('group_id IN(?)', [1, 2, 3])
             ->orWhere('is_admin = ?', 1)
    })
    ;

$select->toString();
/*
SELECT
    name, email
FROM users
WHERE
    (status = 'active')
    AND (
        (group_id IN(1, 2, 3))
        OR (is_admin = 1)
    )
*/
</textarea>

<h4>With SQL Options</h4>
<textarea class="code">
use Lazy\Db;

$select = Db::select();
$select->from('users')
    ->distinct()
    ->calcFoundRows()
    ->select('email');

$select->toString();
// SELECT DISTINCT, SQL_CALC_FOUND_ROWS email FROM users
</textarea>

<h3>Insert</h3>
<textarea class="code">
use Lazy\Db;
use Lazy\Db\Sql\Insert;

$insert = new Insert('users');
$insert->values(['name' => 'User Name', 'user@example.com']);

// or
$insert = Db::insert('users', ['name' => 'User Name', 'user@example.com']);

$insert->toString();
// INSERT INTO users (name, email) VALUES ('User Name', 'user@example.com')
</textarea>

<h3>Update</h3>
<textarea class="code">
use Lazy\Db;
use Lazy\Db\Sql\Update;

$update = new Insert('users');
$update->values(['name' => 'User Name', 'user@example.com'])->where('id = 1');

// or
$update = Db::update('users', ['name' => 'User Name', 'user@example.com'], 'id = 1');

$update->toString();
// UPDATE users SET name = 'User Name', email = 'user@example.com' WHERE (id = 1)
</textarea>

<h3>Delete</h3>
<textarea class="code">
use Lazy\Db;
use Lazy\Db\Sql\DELETE;

$delete = new Delete('users');
$delete->where('id = 1');

// or
$delete = Db::delete('users', 'id = 1');

$delete->toString();
// DELETE FROM users WHERE (id = 1)
</textarea>        </div>
    </div>
</div>
<hr>

<footer>
    <div class="container">
        <div>
            <div class="pull-left">
                <iframe src="http://ghbtns.com/github-btn.html?user=lytc&repo=lazy&type=watch&count=true"
                        allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
                <iframe src="http://ghbtns.com/github-btn.html?user=lytc&repo=lazy&type=fork&count=true"
                        allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
                <iframe src="http://ghbtns.com/github-btn.html?user=lytc&repo=lazy&type=follow&count=true"
                        allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
            </div>
        </div>
        <div class="pull-right">
            <ul class="list-inline">
                <li><a href="https://github.com/lytc/lazy">GitHub</a></li>
                <li><a href="/docs">Documentation</a></li>
            </ul>
        </div>
    </div>
</footer>
<br>
<br>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

<script src="/lazy/assets/vendor/codemirror/4.1/lib/codemirror.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/lib/util/formatting.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/addon/edit/matchbrackets.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/mode/htmlmixed/htmlmixed.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/mode/javascript/javascript.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/mode/css/css.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/mode/clike/clike.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/mode/php/php.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/mode/nginx/nginx.js"></script>
<script src="/lazy/assets/vendor/codemirror/4.1/mode/sql/sql.js"></script>
<script src="/lazy/assets/javascripts/application.js?__dc"></script></body>
</html>